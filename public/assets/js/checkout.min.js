const{createApp:a}=Vue;a({data:()=>({loaded:!1,products:[],total:0}),computed:{productsJSON(){return JSON.stringify(this.products)},submitValidation(){return this.products.length>0&&this.loaded}},created(){let a=this.session();a&&this.setupData(a)},methods:{session(a=null){if(null===a)return JSON.parse(sessionStorage.getItem("StayVacationCheckoutSession"));sessionStorage.setItem("StayVacationCheckoutSession",JSON.stringify(a))},setupData(a){this.products=a.filter(a=>a.reserved).map(c=>{let{id:d,title:e,category:f,count:a,price:b}=c;return b*=a,{id:d,title:e,category:f,count:a,price:b}}),this.total=this.products.map(a=>a.price).reduce((a,b)=>a+b,0),this.loaded=!0},reset(b){sessionStorage.removeItem("StayVacationCheckoutSession");let a=b.target.getAttribute("data-redirectto");a&&(window.location.href=a)}}}).mount("#app")
